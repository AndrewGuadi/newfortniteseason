{% extends 'base.html' %}

{% block meta %}
<meta name="description" content="Explore the various Points of Interest (POIs) in Fortnite Chapter 5 Season 3. Discover key locations, their features, and strategic advantages.">
<meta name="keywords" content="Fortnite, Chapter 5 Season 3, POIs, Points of Interest, Sandy Steppes, Nitrodrome, Brutal Beachhead, Redline Rig">
{% endblock %}

{% block title %}Fortnite Chapter 5 Season 3 - POIs{% endblock %}

{% block head %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/pois.css') }}">
{% endblock %}

{% block content %}
<div class="container mt-5" id="main">
  <div class="pois-container p-3 bg-dark rounded">
    <div class="row">
      <div class="col-12 text-center">
        <h1 class="fs-1">Fortnite Chapter 5 Season 3 - Points of Interest</h1>
        <ul class="nav nav-tabs justify-content-center mt-4" id="categoryTab" role="tablist">
          {% for poi in pois %}
          <li class="nav-item" role="presentation">
            <a class="nav-link {% if loop.first %}active{% endif %}" id="tab-{{ loop.index0 }}" data-bs-toggle="tab" href="#content-{{ loop.index0 }}" role="tab" aria-controls="content-{{ loop.index0 }}" aria-selected="{{ 'true' if loop.first else 'false' }}">{{ poi.name }}</a>
          </li>
          {% endfor %}
        </ul>
      </div>
    </div>
    <div class="tab-content mt-4" id="categoryTabContent">
      {% for poi in pois %}
      <div class="tab-pane fade {% if loop.first %}show active{% endif %}" id="content-{{ loop.index0 }}" role="tabpanel" aria-labelledby="tab-{{ loop.index0 }}">
        <div class="row">
          <div class="col-12 text-center">
            <h2 class="fs-2">{{ poi.name }}</h2>
            <img src="{{ url_for('static', filename='img/' + poi.image) }}" alt="{{ poi.name }}" class="img-fluid mb-3 standardized-image">
            <p class="fs-4">{{ poi.description }}</p>
            <div class="fs-4 text-start">
              <h3>Details</h3>
              <ul>
                {% for key, value in poi.details.items() %}
                  <li><strong>{{ key }}:</strong> 
                    {% if value is mapping %}
                      <ul>
                        {% for subkey, subvalue in value.items() %}
                          <li><strong>{{ subkey }}:</strong> 
                            {% if subvalue is iterable and subvalue is not string %}
                              <ul>
                                {% for item in subvalue %}
                                  <li>{{ item }}</li>
                                {% endfor %}
                              </ul>
                            {% else %}
                              {{ subvalue }}
                            {% endif %}
                          </li>
                        {% endfor %}
                      </ul>
                    {% elif value is iterable and value is not string %}
                      <ul>
                        {% for item in value %}
                          <li>{{ item }}</li>
                        {% endfor %}
                      </ul>
                    {% else %}
                      {{ value }}
                    {% endif %}
                  </li>
                {% endfor %}
              </ul>
            </div>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
  </div>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/pois.js') }}"></script>
{% endblock %}
